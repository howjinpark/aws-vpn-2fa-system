# 보안 고려사항

## ⚠️ 중요한 보안 정보

이 시스템은 기업 네트워크 보안을 다루므로, 다음 보안 지침을 반드시 준수하세요.

## 🔒 배포 전 필수 보안 검토 사항

### 1. 환경변수 보안
- `.env` 파일에 실제 값 설정 후 절대 공개 저장소에 업로드 금지
- Django SECRET_KEY는 강력한 무작위 값으로 변경
- Slack Webhook URL은 실제 워크스페이스 URL로 변경
- AWS 리전 및 VPN 엔드포인트 ID는 실제 값으로 설정

### 2. 데이터베이스 보안
- SQLite는 개발용으로만 사용, 운영환경에서는 PostgreSQL 권장
- 데이터베이스 파일 (.sqlite3)은 절대 Git에 포함하지 않음
- 사용자 데이터 백업 시 개인정보 마스킹 필수

### 3. Django 보안 설정
- `DEBUG = False` 설정 (운영환경)
- ALLOWED_HOSTS에 실제 도메인만 포함
- CSRF, XSS 보호 설정 유지
- Session 타임아웃 설정 확인

### 4. AWS 보안
- IAM 역할 기반 권한 사용 (액세스 키 하드코딩 금지)
- 보안 그룹에서 최소 권한 원칙 적용
- ALB 보안 그룹: 80, 443 포트만 인터넷 허용
- EC2 보안 그룹: ALB에서만 8000 포트 접근 허용

### 5. 네트워크 보안
- iptables 규칙으로 악성 패턴 차단
- fail2ban 설정으로 자동 IP 차단
- VPN 트래픽만 허용하는 네트워크 격리

## 🛡️ 개인정보 보호 조치

### 수집하는 정보
- 사용자명 (Active Directory 계정)
- TOTP 비밀키 (암호화 저장)
- VPN 연결 IP (마스킹 처리)
- 연결 시간 기록

### 보호 조치
- IP 주소 마스킹: `192.168.1.***`
- 사용자명 마스킹: `user***@domain.com`
- TOTP 비밀키 암호화 저장
- 로그 보존 기간 제한

## 🚨 보안 사고 대응

### 모니터링 대상
- 무차별 대입 공격 (Brute Force)
- SQL Injection 시도
- XSS 공격 시도
- 비정상적인 API 호출 패턴

### 대응 절차
1. 자동 IP 차단 (fail2ban)
2. 관리자 알림 (Slack)
3. 로그 분석 및 보고
4. 필요시 수동 차단 조치

## 📋 배포 전 체크리스트

- [ ] .env 파일에 실제 값 설정 완료
- [ ] DEBUG=False 설정
- [ ] 강력한 SECRET_KEY 설정
- [ ] ALLOWED_HOSTS 실제 도메인 설정
- [ ] AWS IAM 역할 권한 최소화
- [ ] 보안 그룹 규칙 검토
- [ ] 데이터베이스 접근 권한 제한
- [ ] 로그 파일 권한 설정
- [ ] SSL/TLS 인증서 적용
- [ ] 보안 헤더 설정 확인

## 🔍 정기 보안 점검 항목

### 월간 점검
- 비정상 로그인 시도 분석
- 시스템 업데이트 및 패치 적용
- 백업 데이터 암호화 상태 확인

### 분기별 점검
- 보안 설정 전체 재검토
- 침투 테스트 수행
- 사용자 권한 재검토

## 📞 보안 사고 신고

보안 취약점 발견 시:
1. 즉시 시스템 접근 차단
2. 보안 담당자에게 연락
3. 로그 보존 및 분석
4. 패치 적용 후 재검토

---

**⚠️ 경고**: 이 시스템을 운영환경에 배포하기 전에 반드시 보안 전문가의 검토를 받으시기 바랍니다.